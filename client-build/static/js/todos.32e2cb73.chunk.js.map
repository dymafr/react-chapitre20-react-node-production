{"version":3,"sources":["config/api.node.js","features/todos/store/actions.js","features/todos/components/AddTodo.js","features/todos/components/TodoItem.js","features/todos/store/selectors.js","features/todos/components/TodoList.js","features/todos/components/Filter.js","features/todos/store/index.js","features/todos/store/reducers.js","features/todos/index.js"],"names":["apiNode","axios","baseURL","addTodoSuccess","todo","type","addTodoError","error","editTodoSuccess","editTodoError","deleteTodoSuccess","id","deleteTodoError","err","AddTodo","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","submitTodo","tryAddTodo","name","input","current","value","done","React","createRef","react_default","a","createElement","className","ref","onClick","Component","connect","dispatch","post","then","response","data","TodoItem","edit","bool","setState","handleInput","e","state","objectSpread","newname","target","updateTodo","tryEditTodo","_this2","tryDeleteTodo","onChange","react","checked","nextProps","prevState","todosListSelector","createSelector","todos","filteredTodoDataSelector","filter","t","TodoList","fetchTodo","_this$props","map","i","components_TodoItem","key","_id","ownProps","match","params","delete","concat","get","fetchTodoError","put","Filter","Fragment","Link","to","injectReducer","arguments","length","undefined","loading","action","toConsumableArray","console","log","actiontodo","stateData","Todos","components_AddTodo","components_Filter","Switch","Route","path","component","Redirect"],"mappings":"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","file":"static/js/todos.32e2cb73.chunk.js","sourcesContent":["import * as axios from 'axios';\n\nconst apiNode = axios.create({\n  baseURL: 'http://localhost:3000/'\n})\n\nexport default apiNode;","import apiNode from '../../../config/api.node';\n\nexport const TRY_DELETE_TODO = 'try delete todo';\nexport const DELETE_TODO_SUCCESS = 'delete todo success';\nexport const DELETE_TODO_ERROR = 'delete todo error';\n\nexport const TRY_ADD_TODO = 'try add todo';\nexport const ADD_TODO_SUCCESS = 'add todo success';\nexport const ADD_TODO_ERROR = 'add todo error';\n\nexport const REQUEST_TODO = 'request todo';\nexport const FETCH_TODO = 'fetch todo';\nexport const FETCH_TODO_SUCCESS = 'fetch todo success';\nexport const FETCH_TODO_ERROR = 'fetch todo error';\n\nexport const EDIT_TODO = 'try edit to do';\nexport const EDIT_TODO_SUCCESS = 'edit to do success';\nexport const EDIT_TODO_ERROR = 'edit to do error';\n\nexport const tryAddTodo = (todo) => {\n  return dispatch => {\n    return apiNode.post('/api/todos', todo).then(\n      response => dispatch(addTodoSuccess(response.data)),\n      error => dispatch(addTodoError(error))\n    )\n  }\n}\n\nexport const addTodoSuccess = (todo) => {\n  return {\n    type: ADD_TODO_SUCCESS,\n    todo\n  }\n}\n\nexport const addTodoError = (error) => {\n  return {\n    type: ADD_TODO_ERROR,\n    error\n  }\n} \n\nexport const tryEditTodo = (todo) => {\n  return (dispatch) => {\n    return apiNode.put('/api/todos', {\n      _id: todo._id,\n      name: todo.newname,\n      done: todo.done\n    }).then(\n      response => dispatch(editTodoSuccess(response.data)),\n      error => dispatch(editTodoError(error))\n    )\n  }\n}\n\nexport const editTodoSuccess = (todo) => {\n  return {\n    type: EDIT_TODO_SUCCESS,\n    todo\n  }\n}\n\nexport const editTodoError = (error) => {\n  return {\n    type: EDIT_TODO_ERROR,\n    error\n  }\n} \n\n\nexport const tryDeleteTodo = (id) => {\n  return (dispatch) => {\n    return apiNode.delete(`/api/todos/${ id }`).then(\n      response => dispatch(deleteTodoSuccess(id)),\n      error => dispatch(deleteTodoError(error))\n    )\n  }\n}\n\n\nexport const deleteTodoSuccess = (id) => {\n  return {\n    type: DELETE_TODO_SUCCESS,\n    id\n  }\n}\n\nexport const deleteTodoError = (err) => {\n  return {\n    type: DELETE_TODO_ERROR,\n    err\n  }\n}\n\nexport const requestTodo = () => {\n  return {\n    type: REQUEST_TODO\n  }\n}\n\nexport const fetchTodoSuccess = (todos) => {\n  return {\n    type: FETCH_TODO_SUCCESS,\n    todos\n  }\n}\n\nexport const fetchTodoError = (error) => {\n  return {\n    type: FETCH_TODO_ERROR,\n    error\n  }\n}\n\nexport const fetchTodo = () => {\n  return (dispatch) => {\n    dispatch(requestTodo());\n    return apiNode.get('/api/todos').then(\n      (response) => {\n        dispatch(fetchTodoSuccess(response.data));\n      },\n      (error) => {\n        dispatch(fetchTodoError(error));\n      }\n    )\n  }\n}\n\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { tryAddTodo } from '../store/actions';\n\nclass AddTodo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.input = React.createRef();\n  }\n\n  submitTodo = () => {\n    this.props.tryAddTodo({\n      name: this.input.current.value,\n      done: false\n    })\n\n    this.input.current.value = '';\n  }\n\n  render() {\n    return (\n      <div className=\"d-flex mb-4\">\n        <input ref={ this.input } type=\"text\" className=\"form-control mr-5\" />\n        <button onClick={ this.submitTodo } className=\"btn btn-success\"> Ajouter </button>\n      </div>\n    )\n  }\n \n}\n\nexport default connect(null, dispatch => { \n  return { \n    dispatch,\n    tryAddTodo: (todo) => dispatch(tryAddTodo(todo)) \n  } \n})(AddTodo);","import React, { Fragment } from 'react';\n\nclass TodoItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      edit: false,\n      todo: { ...this.props.todo, newname: this.props.todo.name }\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.todo !== prevState.todo) {\n      return {\n        todo: { \n          ...prevState.todo,\n          ...nextProps.todo \n        }\n      };\n    }\n  }\n\n  edit = (bool) => {\n    this.setState({ edit: bool });\n  }\n\n  handleInput = (e) => {\n    const todo = this.state.todo;\n    this.setState({ todo: { \n      ...todo,\n      newname: e.target.value\n    }})\n  }\n\n  updateTodo = (todo) => {\n    this.props.tryEditTodo({ ...todo });\n    const edit = this.state.edit;\n    if (edit) { this.setState({ edit: false })};\n  }\n\n  render() {\n    const { tryDeleteTodo } = this.props;\n    const { todo } = this.state;\n    return (\n      <li  className=\"list-group-item d-flex flex-row justify-content-between align-items-center\" >\n        { this.state.edit ? (\n          <input value={ todo.newname } type=\"text\" onChange={ this.handleInput } className=\"form-control\" />\n        ) : (\n          <span>{ todo.name }</span>\n        )}\n        { this.state.edit ? ( \n          <Fragment>\n            <button className=\"btn btn-sm btn-secondary mx-3\" onClick={ () => this.updateTodo({ ...todo }) } >Sauvegarder</button>\n            <button className=\"btn btn-sm btn-secondary\" onClick={ () => this.edit(false) }>Annuler</button>\n          </Fragment>\n        ) : (\n          <span>\n            <input className=\"mx-3\" checked={ this.state.todo.done } onChange={ () => {\n              this.updateTodo({ ...this.state.todo, done: !this.state.todo.done })\n            } } type=\"checkbox\" />\n            <button onClick={ tryDeleteTodo } className=\"btn btn-sm btn-danger mx-3\">delete</button>\n            <button onClick={ () => this.edit(true) } className=\"btn btn-sm btn-primary\">Edit</button>\n          </span>\n        )}\n      </li>\n    )\n  }\n}\n\nexport default TodoItem;","import { createSelector } from 'reselect';\n\nexport const filterSelector = (state, filter) => filter;\nexport const todosSelector = state => state.todos;\n\nexport const todosListSelector = createSelector(\n  [todosSelector],\n  (todos) => todos ? todos.data : null\n)\n\nexport const filteredTodoDataSelector = createSelector(\n  [filterSelector, todosListSelector],\n  (filter, todos) => {\n    if (todos && filter) {\n      switch(filter) {\n        case 'done': {\n          return todos.filter( t => t.done )\n        }\n        case 'active': {\n          return todos.filter( t => !t.done )\n        }\n        default: {\n          return todos\n        }\n      }\n    }\n  }\n)\n","import React, { Component } from 'react';\nimport TodoItem from './TodoItem';\nimport { connect } from 'react-redux';\nimport { tryDeleteTodo, fetchTodo, tryEditTodo } from '../store/actions';\nimport { filteredTodoDataSelector } from '../store/selectors';\n\nclass TodoList extends Component {\n  constructor(props) {\n    super(props);\n    props.fetchTodo();\n  }\n\n  render() {\n    const { todos, tryDeleteTodo, tryEditTodo } = this.props;\n    return (\n      <ul className=\"list-group\">\n        { todos && todos.map( (t, i) => (\n          <TodoItem \n            key={ t._id } \n            todo={ t } \n            tryDeleteTodo={ () => tryDeleteTodo(t._id) } \n            tryEditTodo={ (todo) => tryEditTodo(todo) }\n          />\n        )) }\n      </ul>\n    )\n  }\n}\n\nexport default connect((state, ownProps) => {\n  const filter = ownProps.match.params.filter;\n  return {\n    todos: filteredTodoDataSelector(state, filter)\n  }\n}, {\n  tryDeleteTodo,\n  fetchTodo,\n  tryEditTodo,\n})(TodoList);","import React from 'react';\nimport { Link } from 'react-router-dom'\n\nconst Filter = (props) => {\n  return (\n    <>\n      <Link to=\"/todos/all\" className=\"btn btn-primary mr-2\">Tout</Link>\n      <Link to=\"/todos/done\" className=\"btn btn-primary mr-2\">Fini</Link>\n      <Link to=\"/todos/active\" className=\"btn btn-primary\">En cours</Link>\n    </>\n  )\n}\n\nexport default Filter;","import { injectReducer } from \"../../../store\";\nimport { todosReducer } from './reducers';\n\ninjectReducer('todos', todosReducer);\n","import * as actions from './actions';\n\n// {\n//   todos: {\n//     data: [],\n//     loading: false,\n//     error: null\n//   },\n// }\n\nexport const todosReducer = (state = {\n  data: [],\n  loading: false,\n  error: null\n}, action) => {\n  switch(action.type) {\n    case actions.ADD_TODO_SUCCESS: {\n      return {\n        ...state,\n        data: [ ...state.data, action.todo ]\n      } \n    }\n    case actions.ADD_TODO_ERROR: {\n      return {\n        ...state,\n        error: action.error\n      }\n    }\n    case actions.DELETE_TODO_SUCCESS: {\n      return {\n        ...state,\n        data: state.data.filter( t => t._id !== action.id )\n      } \n    }\n    case actions.REQUEST_TODO: {\n      return {\n        ...state,\n        loading: true\n      }\n    }\n    case actions.EDIT_TODO_SUCCESS: {\n      const todo = action.todo;\n      console.log({\n        actiontodo: todo,\n        stateData: state.data\n      })\n      const todos = [ ...state.data ].map( t => t._id === todo._id ? todo : t);\n      return {\n        ...state,\n        data: [ ...todos ]\n      }\n    }\n    case actions.FETCH_TODO_SUCCESS: {\n      if (action.todos) {\n        return {\n          ...state,\n          data: [ ...action.todos ],\n          loading: false,\n          error: null\n        }\n      } else {\n        return {\n          ...state,\n          loading: false\n        }\n      }\n      \n    }\n    case actions.EDIT_TODO_ERROR:\n    case actions.DELETE_TODO_ERROR:\n    case actions.FETCH_TODO_ERROR: {\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      }\n    }\n    default: {\n      return state\n    }\n  }\n}\n","import React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport AddTodo from './components/AddTodo';\nimport TodoList from './components/TodoList'\nimport Filter from './components/Filter'\nimport './store';\n\nclass Todos extends Component {\n  render() {\n    return (\n      <>\n        <h4>Ajouter une todo</h4>\n        <hr className=\"my-4\" />\n        <AddTodo />\n        <hr className=\"my-4\" />\n        <div className=\"card\">\n          <div className=\"card-header d-flex flex-row align-items-center\">\n            <span className=\"flex-fill\">Todo list</span>\n            <Filter />\n          </div>\n          <div className=\"card-body\">\n            <Switch>\n              <Route path=\"/todos/:filter\" component={ TodoList } />\n              <Redirect to=\"/todos/all\" />\n            </Switch>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Todos;\n"],"sourceRoot":""}